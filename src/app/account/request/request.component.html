<div id="global">
  <div id="menu">
    <button (click)="visible(1)">Faire une demande</button>
    <button (click)="visible(2)"> Voir mes demandes</button>
    <button (click)="visible(3)" *ngIf="isVisibleList"> Modifier une demande</button>
    <button (click)="visible(4)" *ngIf="isVisibleList"> Supprimer une demande</button>
  </div>

  <div id="corps" *ngIf="isVisibleForm || isVisibleList">
    <div id="forms" *ngIf="isVisibleForm" >
      <fieldset>
      <legend>Complétez votre demande</legend>
        <form [formGroup]="form" (ngSubmit)="send()">
            <p>Type d'évènement </p>
            <select formControlName="type">
              <option value="" disabled [selected]="true"> -- Type d'évènements --</option>
              <option value="Absence">Absence</option>
              <option value="Congé">Congé</option>
              <option value="Maladie">Maladie</option>
              <option value="Vacances">Vacances</option>
              <option value="Autres raisons">Autres raisons</option>
            </select>
            <label><p>Raison</p>
              <input type="text" formControlName="comments">
            </label>
            <label><p> Date de début </p>
              <input type="datetime-local" formControlName="startDate" (change)="dateChooseValidators()">
            </label>
            <label><p> Date de fin </p>
              <input type="datetime-local" formControlName="endDate" (change)="dateChooseValidators()">
              <p *ngIf="this.form.controls['startDate'].errors?.['invalid']">La date doit être plus éloignée.</p>
            </label>
            <br><br>
            <input type="submit" value="Valider" [disabled]="!this.form.valid">
        </form>
      </fieldset>
      <div id="success-box" *ngIf="isVisibleNotice">
        <div class="dot"></div>
        <div class="dot two"></div>
        <div class="face">
          <div class="eye"></div>
          <div class="eye right"></div>
          <div class="mouth happy"></div>
        </div>
        <div class="shadow scale"></div>
        <div class="message"><h1 class="alert">Success!</h1>
          <p>Votre demande a bien été envoyée.</p></div>
      </div>
    </div>

    <div id="list" *ngIf="isVisibleList">
      <fieldset>
        <legend>Mes demandes</legend>
        <ul *ngFor="let e of event">
          <li> {{e.comments}} </li>
        </ul>
      </fieldset>
    </div>
  </div>
</div>
